<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Maison des Familles – Saint François d'Assise</title>
  <meta name="description" content="Accueil, services, équipe et contact de la Maison des Familles Saint François d'Assise à Marseille." />
  <style>
    :root{
      --blue:#005BBB;
      --blue-900:#003F88;
      --coral:#FF4438;      /* red headline color */
      --ink:#1f2937;
      --muted:#6b7280;
      --bg:#ffffff;
      --soft:#f0f6ff;
      --radius:18px;
      --shadow:0 10px 30px rgba(0,0,0,.08);
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;color:var(--ink);background:var(--bg);line-height:1.6}

    /* Header / Nav */
    .topbar{position:sticky;top:0;z-index:50;background:#fff;border-bottom:1px solid #e5e7eb}
    .nav{max-width:1160px;margin:auto;display:flex;align-items:center;gap:24px;padding:12px 20px}
    .brand{display:flex;align-items:center;gap:12px;text-decoration:none}
    /* logo reduced ~30% */
    .brand img{height:auto;width:clamp(120px, 14vw, 200px);display:block;filter:drop-shadow(0 1px 1px rgba(0,0,0,.25))}
    .navlinks{margin-left:auto;display:flex;gap:22px;flex-wrap:wrap}
    .navlinks a{color:var(--blue-900);text-decoration:none;font-weight:800;padding:8px 10px;border-radius:10px;font-size:1.05rem}
    .navlinks a:hover{background:var(--soft)}

    /* Sections */
    section{padding:56px 20px}
    .wrap{max-width:1160px;margin:auto}
    .title{font-size:clamp(24px,2.8vw,36px);color:var(--blue-900);margin:0 0 10px;text-align:center}
    .sub{color:var(--muted);text-align:center;margin:0 0 28px}

    /* Welcome */
    .welcome{background:linear-gradient(0deg, rgba(0,91,187,.07), rgba(0,91,187,.07)), #fff}
    .welcome-grid{max-width:1160px;margin:auto;display:grid;grid-template-columns:1fr 520px;gap:28px;align-items:center;padding:24px 20px}
    .welcome h1{font-size:clamp(28px,3.2vw,46px);line-height:1.15;margin:0 0 10px;color:var(--coral)} /* headline now red */
    .welcome p{color:#374151;margin:0 0 14px;max-width:60ch}

    /* Carousel */
    .carousel{position:relative;border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow);background:#e5e7eb}
    .carousel-track{display:flex;transition:transform .5s ease}
    .carousel img{width:100%;height:380px;object-fit:cover;display:block}
    .car-btn{
      position:absolute;top:50%;transform:translateY(-50%);
      background:rgba(0,0,0,.55);border:none;color:#fff;
      width:52px;height:52px;border-radius:50%;cursor:pointer;
      font-size:28px;line-height:1;display:flex;align-items:center;justify-content:center
    }
    .car-prev{left:10px}.car-next{right:10px}
    .dots{position:absolute;left:0;right:0;bottom:10px;display:flex;justify-content:center;gap:8px}
    .dot{width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,.7);border:1px solid rgba(0,0,0,.25)}
    .dot.active{background:#fff}

    /* Services */
    .grid{display:grid;gap:20px}
    .services-grid{grid-template-columns:repeat(3,minmax(0,1fr))}
    .card{background:#fff;border:1px solid #eef2f7;border-radius:16px;padding:22px;box-shadow:0 6px 18px rgba(0,0,0,.05)}
    .card h3{margin:6px 0 6px;color:var(--blue-900)}
    .card p{margin:0}

    /* Team */
    .team{background:var(--soft)}
    .team-grid{grid-template-columns:repeat(4,minmax(0,1fr))}
    .member{background:#fff;border:1px solid #eef2f7;border-radius:16px;padding:16px;box-shadow:0 6px 18px rgba(0,0,0,.05);display:flex;flex-direction:column;gap:8px}
    .avatar{aspect-ratio:1/1;width:100%;border-radius:12px;object-fit:cover;background:linear-gradient(135deg,var(--blue),#7aa5ff)}
    .name{font-weight:800;color:var(--blue-900)}
    .role{color:var(--blue);font-weight:700}
    .bio{color:#4b5563}

    /* Contact */
    .contact-grid{grid-template-columns:1fr 1fr}
    form input, form textarea{width:100%;padding:12px;border:1px solid #e5e7eb;border-radius:10px;margin:6px 0 12px}
    .btn{background:var(--coral);color:#fff;border:none;padding:12px 24px;border-radius:10px;font-weight:700;cursor:pointer;transition:background 0.2s}
    .btn:hover{background:#e63946}

    /* Footer */
    footer{background:#0b1533;color:#e5e7eb}
    footer .foot{max-width:1160px;margin:auto;display:flex;align-items:center;justify-content:space-between;gap:12px;padding:22px 20px}
    footer img{width:180px;height:auto;filter:drop-shadow(0 2px 2px rgba(0,0,0,.25))}

    /* Responsive */
    @media (max-width: 1020px){
      .welcome-grid{grid-template-columns:1fr}
      .services-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
      .team-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
      .contact-grid{grid-template-columns:1fr}
    }
    @media (max-width: 640px){
      .services-grid{grid-template-columns:1fr}
      .navlinks{gap:12px}
      .nav{flex-wrap:wrap}
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="topbar" role="banner">
    <nav class="nav" aria-label="Navigation principale">
      <a class="brand" href="#welcome" aria-label="Accueil">
        <img src="images/logos/BLOGO.png" alt="Maison des Familles – Logo" />
      </a>
      <div class="navlinks">
        <a href="#welcome">Accueil</a>
        <a href="#services">Services</a>
        <a href="#team">Notre Équipe</a>
        <a href="#contact">Contact</a>
      </div>
    </nav>
  </header>

  <!-- Welcome -->
  <section id="welcome" class="welcome" aria-label="Bienvenue">
    <div class="welcome-grid">
      <div>
        <h1>Bienvenue à la Maison des Familles</h1>
        <p>Un lieu d'accueil, d'écoute et d'accompagnement pour les familles de Marseille, dans l'esprit de Saint François d'Assise.</p>
      </div>

      <!-- Carousel -->
      <figure class="carousel" aria-roledescription="carrousel" aria-label="Galerie photos">
        <div class="carousel-track" id="track"></div>
        <button class="car-btn car-prev" aria-label="Photo précédente" id="prev">‹</button>
        <button class="car-btn car-next" aria-label="Photo suivante" id="next">›</button>
        <div class="dots" role="tablist" aria-label="Sélection de photo" id="dots"></div>
      </figure>
    </div>
  </section>

  <!-- Services -->
  <section id="services" aria-label="Services">
    <div class="wrap">
      <h2 class="title">Nos services</h2>
      <p class="sub">Accompagnement familial, soutien à la parentalité, médiation, ateliers éducatifs et orientation.</p>
      <div class="grid services-grid">
        <article class="card">
          <h3>Accompagnement familial</h3>
          <p>Entretiens individuels et familiaux, écoute active, plan d'actions concret.</p>
        </article>
        <article class="card">
          <h3>Soutien à la parentalité</h3>
          <p>Groupes de parole, ateliers (sommeil, écrans, fratrie), conseils personnalisés.</p>
        </article>
        <article class="card">
          <h3>Médiation & conseil conjugal</h3>
          <p>Prévention et gestion des conflits, espaces de dialogue apaisé.</p>
        </article>
        <article class="card">
          <h3>Ateliers éducatifs</h3>
          <p>Activités créatives et pédagogiques pour enfants et adolescents.</p>
        </article>
        <article class="card">
          <h3>Prévention & formation</h3>
          <p>Droits de l'enfant, non-violence éducative, repérage des situations à risque.</p>
        </article>
        <article class="card">
          <h3>Accueil & orientation</h3>
          <p>Premier accueil, évaluation des besoins, lien avec les partenaires du territoire.</p>
        </article>
      </div>
    </div>
  </section>

  <!-- Team -->
  <section id="team" class="team" aria-label="Notre équipe">
    <div class="wrap">
      <h2 class="title">Notre équipe</h2>
      <p class="sub">Une équipe pluridisciplinaire au service des familles.</p>
      <div class="grid team-grid">
        <article class="member">
          <img class="avatar" src="images/team/pro1.jpg" alt="Photo membre 1" />
          <div class="name">Nom 1</div>
          <div class="role">Fonction</div>
          <p class="bio">Courte bio (3–4 lignes) présentant l'expérience et le rôle auprès des familles.</p>
        </article>
        <article class="member">
          <img class="avatar" src="images/team/pro2.jpg" alt="Photo membre 2" />
          <div class="name">Nom 2</div>
          <div class="role">Fonction</div>
          <p class="bio">Courte bio (spécialités, diplômes, cœur de mission).</p>
        </article>
        <article class="member">
          <img class="avatar" src="images/team/pro3.jpg" alt="Photo membre 3" />
          <div class="name">Nom 3</div>
          <div class="role">Fonction</div>
          <p class="bio">Courte bio (approches, années d'expérience, publics).</p>
        </article>
        <article class="member">
          <img class="avatar" src="images/team/pro4.jpg" alt="Photo membre 4" />
          <div class="name">Nom 4</div>
          <div class="role">Fonction</div>
          <p class="bio">Courte bio (missions, formations, inspirations).</p>
        </article>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" aria-label="Contact">
    <div class="wrap">
      <h2 class="title">Nous contacter</h2>
      <p class="sub">Réponse sous 24 h ouvrées.</p>
      <div class="grid contact-grid">
        <form class="card" action="#" method="POST">
          <label>Nom<br><input name="nom" required></label>
          <label>Email<br><input name="email" type="email" required></label>
          <label>Message<br><textarea name="message" rows="5" required></textarea></label>
          <button class="btn" type="submit">Envoyer</button>
        </form>
        <div class="card">
          <h3 style="margin-top:0;color:var(--blue-900)">Infos</h3>
          <p><strong>Adresse</strong><br>116 BOULEVARD VAUBAN, 13006 MARSEILLE</p>
          <p><strong>Email</strong><br><a href="mailto:mdfstfrancoisdassise@gmail.com">mdfstfrancoisdassise@gmail.com</a></p>
          <p><strong>Téléphone</strong><br>04 91 XX XX XX (Lun–Ven : 9h–17h)</p>
          <div class="note"><strong>Urgences :</strong> 3919 (Violences Femmes Info) · 119 (Allô Enfance en Danger)</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer role="contentinfo">
    <div class="foot">
      <img src="images/logos/BLOGO.png" alt="Logo Maison des Familles" />
      <small>© 2025 · Maison des Familles – Saint François d'Assise · Accueil, écoute et accompagnement</small>
    </div>
  </footer>

  <!-- Carousel JavaScript -->
  <script>
    const track = document.getElementById('track');
    const dotsWrap = document.getElementById('dots');
    const prev = document.getElementById('prev');
    const next = document.getElementById('next');

    const MAX = 10;
    const basePath = 'images/carousel'; // Fixed path
    const exts = ['jpg','JPG','jpeg','JPEG','png','PNG'];
    const slides = [];

    function probe(src, ok, fail){
      const img = new Image();
      img.onload = () => ok(img);
      img.onerror = fail;
      img.src = src + `?v=${Date.now()}`; // cache-bust
    }

    function findExisting(n, done){
      let i = 0;
      (function tryNext(){
        if (i >= exts.length) return done(null);
        const src = `${basePath}/img_${n}.${exts[i++]}`;
        probe(src, (img)=>done(img), tryNext);
      })();
    }

    let pending = MAX, found = 0;
    for(let n=1;n<=MAX;n++){
      findExisting(n, (img)=>{
        if(img){
          img.alt = `Image ${n}`;
          slides.push(img);
          track.appendChild(img);
          found++;
        }
        if(--pending === 0) finalize();
      });
    }

    function finalize(){
      if(found === 0){
        track.innerHTML =
          '<div style="width:100%;height:380px;display:flex;align-items:center;justify-content:center;color:#555;background:#f3f4f6;font-size:14px;text-align:center;padding:20px">Ajoutez des images nommées <code>img_1.jpg</code>, <code>img_2.jpg</code>, etc. dans le dossier <code>images/carousel/</code></div>';
        return;
      }

      // Set track width and each slide width so translateX(-100%) moves exactly one slide.
      track.style.width = `${slides.length * 100}%`;
      slides.forEach(im => { im.style.width = `${100 / slides.length}%`; });

      // Build dots
      slides.forEach((_,idx)=>{
        const b=document.createElement('button');
        b.className='dot'+(idx===0?' active':'');
        b.type='button';
        b.setAttribute('aria-label',`Aller à la photo ${idx+1}`);
        b.addEventListener('click',()=>go(idx));
        dotsWrap.appendChild(b);
      });

      go(0);
      timer = setInterval(()=>go(i+1), 5000);
    }

    let i=0, timer;
    function go(n){
      if(!slides.length) return;
      i=(n+slides.length)%slides.length;
      track.style.transform=`translateX(${-i*100}%)`;
      dotsWrap.querySelectorAll('.dot').forEach((d,idx)=>d.classList.toggle('active', idx===i));
    }
    
    prev?.addEventListener('click',()=>go(i-1));
    next?.addEventListener('click',()=>go(i+1));
    
    [prev,next,track].forEach(el=>{
      el?.addEventListener('mouseenter',()=>clearInterval(timer));
      el?.addEventListener('mouseleave',()=>timer=setInterval(()=>go(i+1),5000));
    });
  </script>
</body>
</html>
