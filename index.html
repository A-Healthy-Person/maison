<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Maison des Familles – Saint François d'Assise</title>
  <meta name="description" content="Accueil, services, équipe et contact de la Maison des Familles Saint François d'Assise à Marseille." />
  <link rel="stylesheet" href="/assets/site.css?v=6" />

  <!-- Gallery + Lightbox minimal styles (kept small to avoid conflicts) -->
  <style>
    /* Thumbnails in the welcome gallery */
    .welcome-gallery {
      display: grid;
      gap: 12px;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      align-items: start;
    }
    .welcome-gallery .thumb {
      display:block; position:relative; overflow:hidden; border-radius:8px;
      box-shadow:0 2px 6px rgba(0,0,0,.15); background:#eee; cursor:zoom-in;
    }
    .welcome-gallery img {
      width:100%; height:auto; display:block; object-fit:cover;
      transition: transform .25s ease;
    }
    .welcome-gallery .thumb:hover img { transform: scale(1.02); }

    /* Lightbox */
    .lightbox {
      position:fixed; inset:0; display:none; place-items:center;
      background:rgba(0,0,0,.9); z-index:9999;
    }
    .lightbox.open { display:grid; }
    .lightbox__stage { position:relative; max-width:min(96vw,1400px); max-height:90vh; }
    .lightbox__img { max-width:96vw; max-height:90vh; width:auto; height:auto; border-radius:8px; box-shadow:0 6px 18px rgba(0,0,0,.5); }
    .lightbox__caption { text-align:center; color:#ddd; margin-top:10px; font-size:14px; }

    .lightbox__close, .lightbox__nav {
      position:absolute; background:rgba(255,255,255,.15); color:#fff; border:none;
      border-radius:999px; width:42px; height:42px; display:grid; place-items:center; cursor:pointer;
    }
    .lightbox__close { top:18px; right:18px; }
    .lightbox__prev { top:50%; left:18px; transform:translateY(-50%); font-size:20px; }
    .lightbox__next { top:50%; right:18px; transform:translateY(-50%); font-size:20px; }

    @media (max-width:700px){
      .lightbox__prev { left:10px; }
      .lightbox__next { right:10px; }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="topbar" role="banner">
    <nav class="nav" aria-label="Navigation principale">
      <a class="brand" href="#welcome" aria-label="Accueil">
        <img src="/images/logos/BLOGO.png" alt="Maison des Familles – Logo" />
      </a>
      <div class="navlinks">
        <a href="#welcome">Accueil</a>
        <a href="#services">Services</a>
        <a href="#team">Notre Équipe</a>
        <a href="#contact">Contact</a>
      </div>
    </nav>
  </header>

  <!-- Welcome (text left, gallery right) -->
  <section id="welcome" class="welcome" aria-label="Bienvenue">
    <div class="welcome-grid">
      <div>
        <h1>Bienvenue à la Maison des Familles</h1>
        <p>Un lieu d’accueil, d’écoute et d’accompagnement pour les familles de Marseille, dans l’esprit de Saint François d’Assise.</p>
        <p style="color:#555;margin-top:.5rem;">Cliquez sur une photo pour l’agrandir.</p>
      </div>

      <div class="welcome-gallery">
        <img src="assets/img_30.jpg" alt="Photo 1" loading="lazy">
        <img src="assets/img_13.jpg" alt="Photo 2" loading="lazy">
        <img src="assets/img_14.jpg" alt="Photo 3" loading="lazy">
        <img src="assets/img_18.jpg" alt="Photo 4" loading="lazy">
        <img src="assets/img_19.jpg" alt="Photo 5" loading="lazy">
        <img src="assets/img_20.jpg" alt="Photo 6" loading="lazy">
        <img src="assets/img_21.jpg" alt="Photo 7" loading="lazy">
      </div>
      </section>

  <!-- Services -->
  <section id="services" aria-label="Services">
    <div class="wrap">
      <h2 class="title">Nos Services</h2>
      <p class="sub">Accompagnement familial, soutien à la parentalité, médiation, ateliers éducatifs et orientation.</p>

      <div class="services-grid">
        <article class="service-card">
          <h3>Accompagnement Familial</h3>
          <p>Soutien et guidance pour les familles en difficulté, médiation familiale et conseil conjugal dans un esprit d'écoute et de bienveillance.</p>
        </article>
        <article class="service-card">
          <h3>Soutien à la Parentalité</h3>
          <p>Ateliers et accompagnement individuel pour les parents, groupes de parole et formations pour développer les compétences parentales.</p>
        </article>
        <article class="service-card">
          <h3>Activités Éducatives</h3>
          <p>Ateliers créatifs, activités périscolaires et temps de loisirs pour les enfants et adolescents dans un cadre sécurisé et épanouissant.</p>
        </article>
        <article class="service-card">
          <h3>Médiation & Conseil</h3>
          <p>Services de médiation familiale, conseil conjugal et accompagnement psychologique pour surmonter les difficultés relationnelles.</p>
        </article>
        <article class="service-card">
          <h3>Formation & Prévention</h3>
          <p>Sessions de formation sur la parentalité, prévention des violences familiales et sensibilisation aux droits de l'enfant.</p>
        </article>
        <article class="service-card">
          <h3>Accueil & Orientation</h3>
          <p>Premier accueil des familles, évaluation des besoins et orientation vers les services adaptés du territoire marseillais.</p>
        </article>
      </div>
    </div>
  </section>

  <!-- Team -->
  <section id="team" class="team" aria-label="Notre équipe">
    <div class="wrap">
      <h2 class="title">Notre Équipe</h2>
      <p class="sub">Une équipe pluridisciplinaire au service des familles.</p>
      <div class="team-grid">
        <article class="member">
          <img class="avatar" src="/images/team/pro1.jpg" alt="Photo membre 1" />
          <div class="name">Nom 1</div>
          <div class="role">Fonction</div>
          <p class="bio">Courte bio (3–4 lignes) présentant l’expérience et le rôle auprès des familles.</p>
        </article>
        <article class="member">
          <img class="avatar" src="/images/team/pro2.jpg" alt="Photo membre 2" />
          <div class="name">Nom 2</div>
          <div class="role">Fonction</div>
          <p class="bio">Courte bio (spécialités, diplômes, cœur de mission).</p>
        </article>
        <article class="member">
          <img class="avatar" src="/images/team/pro3.jpg" alt="Photo membre 3" />
          <div class="name">Nom 3</div>
          <div class="role">Fonction</div>
          <p class="bio">Courte bio (approches, années d’expérience, publics).</p>
        </article>
        <article class="member">
          <img class="avatar" src="/images/team/pro4.jpg" alt="Photo membre 4" />
          <div class="name">Nom 4</div>
          <div class="role">Fonction</div>
          <p class="bio">Courte bio (missions, formations, inspirations).</p>
        </article>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" aria-label="Contact">
    <div class="wrap">
      <h2 class="title">Nous Contacter</h2>
      <p class="sub">Réponse sous 24 h ouvrées.</p>
      <div class="contact-grid">
        <form class="card" action="#" method="POST">
          <label>Nom<br><input name="nom" required></label>
          <label>Email<br><input name="email" type="email" required></label>
          <label>Message<br><textarea name="message" rows="5" required></textarea></label>
          <button class="btn" type="submit">Envoyer</button>
        </form>
        <div class="card info-card">
          <h3>Infos</h3>
          <p><strong>Adresse</strong><br>116 BOULEVARD VAUBAN, 13006 MARSEILLE</p>
          <p><strong>Email</strong><br><a href="mailto:mdfstfrancoisdassise@gmail.com">mdfstfrancoisdassise@gmail.com</a></p>
          <p><strong>Téléphone</strong><br>04 91 XX XX XX (Lun–Ven : 9h–17h)</p>
          <div class="note"><strong>Urgences :</strong> 3919 (Violences Femmes Info) · 119 (Allô Enfance en Danger)</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer role="contentinfo">
    <div class="foot">
      <img src="/images/logos/BLOGO.png" alt="Logo Maison des Familles" />
      <small>© 2025 · Maison des Familles – Saint François d'Assise · Accueil, écoute et accompagnement</small>
    </div>
  </footer>

  <!-- Lightbox markup (end of body) -->
  <div class="lightbox" id="lightbox" role="dialog" aria-modal="true" aria-label="Visionneuse d’images">
    <button class="lightbox__close" id="lbClose" aria-label="Fermer (Échap)">✕</button>
    <button class="lightbox__nav lightbox__prev" id="lbPrev" aria-label="Précédent (←)">❮</button>
    <div class="lightbox__stage">
      <img id="lbImg" class="lightbox__img" src="" alt="">
      <div id="lbCaption" class="lightbox__caption"></div>
    </div>
    <button class="lightbox__nav lightbox__next" id="lbNext" aria-label="Suivant (→)">❯</button>
  </div>

  <!-- Lightbox script (auto-detects thumbnails; no hard-coded count) -->
  <script>
  (function(){
    const gallery = document.querySelector(".welcome-gallery");
    const thumbs  = Array.from(gallery.querySelectorAll("a.thumb, img"));

    // Build an array from the markup (href/src + alt)
    const items = thumbs.map(el => {
      if (el.tagName === "A") {
        const img = el.querySelector("img");
        return { src: el.getAttribute("href"), alt: img ? (img.alt || "") : "" };
        } else {
        return { src: el.getAttribute("src"), alt: el.alt || "" };
      }
    });

    // Lightbox elements
    const lb        = document.getElementById("lightbox");
    const lbImg     = document.getElementById("lbImg");
    const lbCaption = document.getElementById("lbCaption");
    const btnPrev   = document.getElementById("lbPrev");
    const btnNext   = document.getElementById("lbNext");
    const btnClose  = document.getElementById("lbClose");

    let index = 0;

    function openLightbox(i){
      index = i;
      updateImage();
      lb.classList.add("open");
      document.body.style.overflow = "hidden";
    }
    function closeLightbox(){
      lb.classList.remove("open");
      document.body.style.overflow = "";
    }
    function updateImage(){
      const { src, alt } = items[index];
      lbImg.src = src;
      lbImg.alt = alt || `Photo ${index + 1}`;
      lbCaption.textContent = `${alt || "Photo"} ${index + 1} / ${items.length}`;
      // Preload neighbors
      const nextIdx = (index + 1) % items.length;
      const prevIdx = (index - 1 + items.length) % items.length;
      const pre1 = new Image(); pre1.src = items[nextIdx].src;
      const pre2 = new Image(); pre2.src = items[prevIdx].src;
    }
    function next(){ index = (index + 1) % items.length; updateImage(); }
    function prev(){ index = (index - 1 + items.length) % items.length; updateImage(); }

    // Open from any thumbnail
    gallery.addEventListener("click", (e) => {
      const a = e.target.closest("a.thumb");
      const img = e.target.closest("img");
      if (!a && !img) return;

      e.preventDefault();
      const clickedEl = a || img;
      const clickedIndex = thumbs.indexOf(clickedEl.tagName === "A" ? clickedEl : clickedEl);
      openLightbox(clickedIndex);
    });

    // Controls
    btnClose.addEventListener("click", closeLightbox);
    btnNext.addEventListener("click", next);
    btnPrev.addEventListener("click", prev);

    // Close on backdrop click
    lb.addEventListener("click", (e) => {
      const onStage = e.target.closest(".lightbox__stage");
      const onBtn = e.target.closest("button");
      if(!onStage && !onBtn) closeLightbox();
    });

    // Keyboard
    window.addEventListener("keydown", (e) => {
      if(!lb.classList.contains("open")) return;
      if(e.key === "Escape") closeLightbox();
      if(e.key === "ArrowRight") next();
      if(e.key === "ArrowLeft") prev();
    });
  })();
  </script>
</body>
</html>
